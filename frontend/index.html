<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clarity - AI Code Refactor</title>
    <link rel="stylesheet" href="style.css">
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Highlight.js (Core Only) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>
<body>
    <div class="glass-wrapper">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="brand">
                <div class="logo"></div>
                <span class="brand-text">Clarity</span>
            </div>
            <nav>
                <a href="#" class="active" title="Editor"><i class="ph ph-code"></i></a>
                <a href="#" id="settingsBtn" title="Settings"><i class="ph ph-gear"></i></a>
            </nav>
            <div class="status-dot" title="System Status"></div>
        </aside>

        <!-- Main Workspace -->
        <main class="workspace">
            <header>
                <div class="title-group">
                    <h1>Refactor Engine</h1>
                    <span class="badge">v2.0</span>
                </div>
                <div class="actions">
                    <button id="correctBtn" class="primary-btn">
                        <i class="ph ph-lightning"></i> Optimize
                    </button>
                </div>
            </header>

            <div class="editor-container">
                <!-- Input -->
                <div class="code-pane input-pane">
                    <div class="pane-header">
                        <span id="inputTab" class="tab active"><i class="ph ph-file-code"></i> source.py</span>
                        <span class="meta">Input</span>
                    </div>
                    <textarea id="codeInput" placeholder="# Paste legacy code here..." spellcheck="false"></textarea>
                    <button id="copyInputBtn" class="copy-btn icon-only" title="Copy Input">
                        <i class="ph ph-copy"></i>
                    </button>
                </div>

                <!-- Flow Arrow -->
                <div class="flow-arrow">
                    <i class="ph ph-caret-right"></i>
                </div>

                <!-- Output -->
                <div class="code-pane output-pane">
                    <div class="pane-header">
                        <span id="outputTab" class="tab result"><i class="ph ph-sparkle"></i> optimized.py</span>
                        <span class="meta success">Fixed</span>
                    </div>
                    <div class="output-scroll">
                        <pre><code id="codeOutput"># Waiting for analysis...</code></pre>
                    </div>
                    <button id="copyOutputBtn" class="copy-btn icon-only" title="Copy Output">
                        <i class="ph ph-copy"></i>
                    </button>
                </div>
            </div>

            <!-- Footer with Tech Stats & Toggle -->
            <footer>
                <div class="stat-item">
                    <i class="ph ph-terminal-window"></i> <span id="langStat">Python</span>
                </div>
                <div class="stat-item">
                    <i class="ph ph-cpu"></i> <span id="latency">Latency: --ms</span>
                </div>
                
                <!-- Backend Switcher -->
                <button id="backendToggle" class="glass-toggle" title="Switch Backend">
                    <i class="ph ph-cloud mode-icon"></i> 
                    <span class="mode-text">Cloud</span>
                </button>

                <div class="stat-item right">
                    <span class="status-text">Connecting...</span>
                </div>
            </footer>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2>Settings</h2>
                <button id="closeSettings" class="close-btn"><i class="ph ph-x"></i></button>
            </div>
            <div class="modal-body">
                <div class="setting-item column-layout">
                    <label>Theme Preference</label>
                    <div class="theme-grid" id="themeGrid">
                        <button class="theme-option" data-value="system" title="System Auto">
                            <i class="ph ph-desktop"></i> <span>Auto</span>
                        </button>
                        <button class="theme-option" data-value="latte" title="Latte (Light)">
                            <i class="ph ph-sun"></i> <span>Latte</span>
                        </button>
                        <button class="theme-option" data-value="frappe" title="Frappé (Dark)">
                            <i class="ph ph-coffee"></i> <span>Frappé</span>
                        </button>
                        <button class="theme-option" data-value="macchiato" title="Macchiato (Dark)">
                            <i class="ph ph-cloud-moon"></i> <span>Macch.</span>
                        </button>
                        <button class="theme-option" data-value="mocha" title="Mocha (Dark)">
                            <i class="ph ph-moon-stars"></i> <span>Mocha</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>